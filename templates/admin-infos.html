<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infos universit√© - Administration</title>
    <link rel="stylesheet" href="/static/dashboard.css">
    <link rel="stylesheet" href="/static/pages.css">
</head>
<body>
    <div class="background-overlay"></div>
    <header class="dashboard-header">
    <div class="header-content">
        <div class="logo-container">
            <a href="{{ dashboard_link }}">
                <img src="/static/uir logo.png" class="logo" alt="UIR Logo">
            </a>
        </div>

        <div class="user-section">
            <a href="{{ dashboard_link }}" class="header-link">
                <i class="fas fa-home"></i> Accueil
            </a>
            
            {% if user_role == 'student' %}
            <a href="emploi-temps.html" class="header-link">
                <i class="fas fa-calendar-alt"></i> Emploi du temps
            </a>
            {% endif %}

            <a href="profil.html" class="header-link">
                <i class="fas fa-user"></i> Profil
            </a>

            <a href="/api/logout" class="header-link danger-btn">
                <i class="fas fa-sign-out-alt"></i> D√©connexion
            </a>
        </div>
    </div>
</header>

    <main class="page-main">
        <div class="page-container">
            <div class="title-section">
                <h1 class="page-title">üè´ Infos universit√©</h1>
            </div>

            <section class="panel">
                <div class="panel-header">
                    <h2>D√©partements & campus</h2>
                    <small>Placeholder pour gestion des donn√©es</small>
                </div>
                <div class="panel-body">
                    <div class="table-placeholder">
                        <p>Tableau de gestion des d√©partements / campus (frontend)</p>
                    </div>
                </div>
            </section>
        </div>
    </main>
    <script src="/static/localdata.js"></script>
    <script>
        const KEY = 'adminInfos';
        const container = document.querySelector('.table-placeholder');
        const seed = [
            { dept: 'Informatique', campus: 'Campus A' },
            { dept: 'Sciences', campus: 'Campus B' },
        ];

        function render() {
            let arr = getData(KEY, []);
            if (!arr.length) {
                arr = seed;
                setData(KEY, arr);
            }
            container.innerHTML = arr.map((d, idx) => `
                <div class="resource-row">
                    <div><strong>${d.dept}</strong><br><small>${d.campus}</small></div>
                    <button class="secondary-btn" data-idx="${idx}">Supprimer</button>
                </div>
            `).join('');
            container.querySelectorAll('button[data-idx]').forEach(btn => {
                btn.onclick = () => {
                    const idx = Number(btn.dataset.idx);
                    const arr2 = getData(KEY, []);
                    arr2.splice(idx, 1);
                    setData(KEY, arr2);
                    render();
                };
            });
        }
        render();
    </script>
</body>
</html>



